<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <title>Sitio Luciano Vildosola</title>
  </head>
  <body>
    <h1>Consignas del ejercicio</h1>
    <h3>Declarar y hacer uso de Objetos de dato (datos de tipo objeto)</h3>
    <h3>Cargar de 2 personas a un array por programa</h3>
    <h3>Dejar de usar la funcion prompt() para el ingreso de datos. Armar un contenedor para el ingreso de datos desde consola (solo inputs sin formulario)</h3>
    <h3>Dejar de usar document.write() y escribir contenido dentro de un elemento html (puede ser un div)</h3>
    <h3>Dos botones de para llamar dos funciones. Una para cargar un nuevo objeto de dato por teclado y otra para mostrar en formato de tabla el array completo de elementos con su longitud</h3>
    <h3>Un tercer procedimiento para ocultar el elemento de presentacion (usando el parametro de estilo display:none)</h3>
    
    <div class="contenedorPrincipal">
      <div class="contenedorInputs">
        <h3>Adicionar Persona</h3>
        <label for="nombre">Nombre</label><br />
        <input type="text" id="nombre" for="nombre" /><br />
        <label for="apellido">Apellido</label><br />
        <input type="text" id="apellido" for="apellido" /><br />
        <label for="nacimiento">Fecha de Nacimiento</label><br />
        <input type="date" id="nacimiento" for="nacimiento" /><br />
        <button type="click" id="boton">crear Persona</button>
      </div>
      <div class="contenedorControl">
        <h3>Control</h3>
        <div class="botones">
          <button type="submit" id="lista">Lista de Personas</button>
          <button type="submit" id="oculta">Oculta presentacion</button>
        </div>
      </div>
      <div id="mostrarResultados"></div>
    </div>
    <script>
      const listaPersonas = document.getElementById("lista");
      const ocultarLista = document.getElementById("oculta");
      const boton = document.getElementById("boton");
      const nombre = document.getElementById("nombre");
      const apellido = document.getElementById("apellido");
      const nacimiento = document.getElementById("nacimiento");
      let mostrarPersonas = document.getElementById("mostrarResultados");
      let personas = [];
      function mostrarTabla() {
        let tabla =
          "<table style='border-collapse: collapse; border: 1px solid black;'><thead><tr><th style='border: 1px solid black;'>Nombre</th><th style='border: 1px solid black;'>Apellido</th><th style='border: 1px solid black;'>Fecha de Nacimiento</th></tr></thead><tbody>";
        for (let i = 0; i < personas.length; i++) {
          tabla +=
            "<tr><td style='border: 3px solid black;'>" +
            personas[i].nombre +
            "</td><td style='border: 3px solid black;'>" +
            personas[i].apellido +
            "</td><td style='border: 3px solid black;'>" +
            personas[i].nacimiento +
            "</td></tr>";
        }
        tabla += "</tbody></table>";
        mostrarPersonas.innerHTML = tabla;
        let longitud =
          "<p id='longitudArreglo'>Longitud del arreglo de objetos: " +
          personas.length +
          "</p>";
        let etiquetaP = document.querySelector("#longitudArreglo");
        if (etiquetaP) {
          etiquetaP.textContent =
            "Longitud del arreglo de objetos: " + personas.length;
        } else {
          mostrarPersonas.insertAdjacentHTML("afterend", longitud);
        }
      }
      boton.addEventListener("click", (e) => {
        e.preventDefault();
        if (nombre.value === "" || apellido.value === "" || nacimiento.value === "") {
          alert("Faltan completar datos");
        } else {
          let nuevaPersona = {
            nombre: nombre.value,
            apellido: apellido.value,
            nacimiento: nacimiento.value,
          };
          personas.push(nuevaPersona);
          nuevaPersona = {};
          mostrarTabla();
        }
      });
      listaPersonas.addEventListener("click", (e) => {
        e.preventDefault();
        mostrarTabla();
      });
      ocultarLista.addEventListener("click", (e) => {
        e.preventDefault();
        mostrarPersonas.innerHTML = "";
        let etiquetaP = document.querySelector("#longitudArreglo");
        if (etiquetaP) {
          etiquetaP.remove();
        }
      });




    </script>
  </body>
</html>